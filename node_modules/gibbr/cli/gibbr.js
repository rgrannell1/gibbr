
"use strict"





var doc = `
Name:
	gibbr - A utility for scrambling file names.

Usage:
	gibbr [--no-preserve-root|--preserve-root] [-s SIZE|--size SIZE] [--] -
	gibbr [--no-preserve-root|--preserve-root] [-s SIZE|--size SIZE] [--] [<path>...]
	gibbr (-h|--help|--version)

Description:
	gibbr is a utility for scrambling filenames. It accepts file or folder paths,
	and renames the filename or last portion of the path with a random string.

Implementation:

	Gibbr does NOT recur into folders; to rename recursively pipe file names into gibbr
	from 'find', 'ls', or a similar utility.

	'Math.random( )' is not used, as it is poorly implemented in V8. Instead, the xor4096
	generator is used, which should prevent filename collisions.

	The created file names are mixed case letters (52), so there are approximately 7 * 10 ^ 30
	unique file names generated by default. This would mean you would need to create approximately 10^17
	before you had a 50% chance of creating a duplicate file name, meaning these are unlikely to
	duplicate filenames during normal usage.

	Gibbr preserves file extensions, or more specifically any text following a period in a file basename.
	For example, renaming foo.tar.gz will preserve the extension '.tar.gz'.



Arguments:
	<path>...              the filepaths to rename. Use '-' to read from standard input.

Options:

	--no-preserve-root     rename the root directory - '/' - if it is supplied as a path.
	                           using this option is generally not a good idea.
	--preserve-root        never rename the root directory. Default behaviour.
	-s SIZE, --size SIZE   [default: 20] the length of the new filename, excluding file extensions.
	-h, --help             display this document.
	--version              display the version of this program.
`




var docopt = require('docopt').docopt
var args   = docopt(doc)
var main   = require('gibbr/app/gibbr')




main(args)
