
"use strict"




var renameInodes = require('gibbr/fs/rename-inodes')
require('babel-polyfill')




var gibbr = rawArgs => {

	var args = gibbr.preproccess(gibbr.validate(rawArgs))

	renameInodes(args)

}

gibbr.validate = args => {
	return args
}

gibbr.preproccess = rawArgs => {

	try {

		var size = parseInt(rawArgs.X, 10)

	} catch (err) {
		throw new Error('failed to parse "--size" argument.')
	}

	var args = Object.assign({

		files:      rawArgs['<path>'],
		size:       size,
		shouldNuke: rawArgs['--no-preserve-root']

	}, rawArgs)

	return args

}





module.exports = gibbr
